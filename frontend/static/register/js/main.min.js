const first_link=document.querySelector(".first-link"),second_link=document.querySelector(".second-link"),inputs=document.querySelectorAll(".form__register-input"),login_input=document.getElementById("login"),email_input=document.getElementById("email"),password_input=document.getElementById("password"),repassword_input=document.getElementById("repassword"),checkbox_label=document.querySelector(".form__register-checkbox"),submit=document.querySelector(".form__register-submit"),error_window=document.querySelector(".error__window");let errors={};submit.addEventListener("click",a=>{validate("login",""!=login_input.value,login_input,""),validate("email",validateEmail(email_input.value),email_input,"\u0412\u0432\u0435\u0434\u0451\u043D \u043D\u0435 \u0432\u0435\u0440\u043D\u044B\u0439 \u044D\u043C\u0435\u0439\u043B!"),validate("password",validatePassword(password_input.value),password_input,"\u041F\u0430\u0440\u043E\u043B\u044C \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C: \u043E\u0434\u043D\u0443 \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0443\u044E \u0431\u0443\u043A\u0432\u0443, \u043E\u0434\u043D\u0443 \u0446\u0438\u0444\u0440\u0443, \u043A\u0430\u043A \u043C\u0438\u043D\u0438\u043C\u0443\u043C 8 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432!"),validate("repassword",repassword_input.value==password_input.value,repassword_input,"\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442!"),(errors.login||errors.email||errors.password||errors.repassword)&&(a.preventDefault(),showError("\u0412\u0441\u0435 \u043F\u043E\u043B\u044F \u0434\u043E\u043B\u0436\u043D\u044B \u0431\u044B\u0442\u044C \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u044B!"))}),first_link.addEventListener("click",()=>{second_link.classList.contains("active")&&(second_link.classList.remove("active"),first_link.classList.add("active"))}),second_link.addEventListener("click",()=>{first_link.classList.contains("active")&&(first_link.classList.remove("active"),second_link.classList.add("active"))}),login_input.addEventListener("input",()=>{validate("login",""!=login_input.value,login_input,"")}),email_input.addEventListener("input",()=>{validate("email",validateEmail(email_input.value),email_input,"\u0412\u0432\u0435\u0434\u0451\u043D \u043D\u0435 \u0432\u0435\u0440\u043D\u044B\u0439 \u044D\u043C\u0435\u0439\u043B!")}),password_input.addEventListener("input",()=>{validate("password",validatePassword(password_input.value),password_input,"\u041F\u0430\u0440\u043E\u043B\u044C \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C: \u043E\u0434\u043D\u0443 \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0443\u044E \u0431\u0443\u043A\u0432\u0443, \u043E\u0434\u043D\u0443 \u0446\u0438\u0444\u0440\u0443, \u043A\u0430\u043A \u043C\u0438\u043D\u0438\u043C\u0443\u043C 8 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432!"),validate("repassword",repassword_input.value==password_input.value,repassword_input,"\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442!")}),repassword_input.addEventListener("input",()=>{validate("repassword",repassword_input.value==password_input.value,repassword_input,"\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442!")}),checkbox_label.addEventListener("click",()=>{let a=checkbox_label.children[0];a.checked?(password_input.setAttribute("type","text"),repassword_input.setAttribute("type","text")):(password_input.setAttribute("type","password"),repassword_input.setAttribute("type","password"))});function validate(a,b,c,d){if(""!=c.value){let c=document.getElementById(a+"-label"),e=document.createElement("img");c.innerHTML="",!0==b?(errors[a]=!1,e.src="/static/register/img/valid.svg",hideError()):(errors[a]=!0,e.src="/static/register/img/invalid.svg",showError(d)),c.appendChild(e)}else{let b=document.getElementById(a+"-label");b.innerHTML=""}}function validateEmail(a){return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)}function validatePassword(a){return /^(?=.*[a-z])(?=.*[0-9])(?=.{8,})/.test(a)}function showError(a){let b=error_window.children[0];b.innerHTML=a,error_window.classList.add("active")}function hideError(){error_window.classList.remove("active")}